/* --- 1. CONFIGURACIÓN GLOBAL --- */
@import url('https://fonts.googleapis.com/css?family=Istok+Web&display=swap');
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Istok Web', sans-serif;
  background: linear-gradient(rgba(14, 175, 239, 1), rgba(10, 52, 119, 1));
  transition: background 1s ease-in-out; /* Para fondo dinámico */
  color: white;
  min-height: 100vh; 
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 20px;
  overflow-y: auto;
}
.main-container { width: 100%; max-width: 1100px; display: flex; flex-direction: column; gap: 30px; }

/* --- CABECERA --- */
.header-bar { display: flex; justify-content: space-between; align-items: center; width: 100%; flex-wrap: wrap; gap: 15px; }
.logo img { height: 35px; width: auto; filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3)); }

/* --- BUSCADOR --- */
.search-container { display: flex; justify-content: center; align-items: center; gap: 10px; flex: 1; max-width: 600px; }
#city-input { flex: 1; padding: 12px 18px; font-size: 16px; border-radius: 25px; border: none; min-width: 250px; }
#search-button { padding: 12px 25px; font-size: 16px; font-weight: 700; border-radius: 25px; border: none; background: rgba(255, 255, 255, 0.3); color: white; cursor: pointer; transition: background 0.3s ease; }
#search-button:hover { background: rgba(255, 255, 255, 0.5); }

/* --- 2. TARJETA DE CLIMA ACTUAL --- */
.weather-card { display: flex; flex-direction: column; align-items: center; text-align: center; color: rgba(255, 255, 255, 0.9); }
#city-name { font-size: 40px; font-weight: 700; }
#current-description { font-size: 26px; font-style: italic; text-transform: capitalize; }
#current-temp { font-size: 80px; font-weight: 700; margin: 10px 0; }
#min-max-temp { font-size: 22px; }

/* --- SECCIÓN DOBLE --- */
.info-row { display: flex; justify-content: space-between; align-items: flex-start; gap: 20px; flex-wrap: wrap; }

/* Pronóstico Semanal */
.weekly-forecast { flex: 1; min-width: 300px; background: rgba(255, 255, 255, 0.15); border-radius: 20px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); backdrop-filter: blur(6px); }
.weekly-forecast h2 { text-align: center; margin-bottom: 15px; font-size: 22px; }
.week-cards { display: flex; flex-direction: column; gap: 12px; }
.day-card { display: flex; justify-content: space-between; align-items: center; background: rgba(255, 255, 255, 0.1); border-radius: 15px; padding: 10px 15px; transition: background 0.3s ease; }
.day-card:hover { background: rgba(255, 255, 255, 0.25); }
.day-card img { width: 40px; height: 40px; }

/* Detalles de Hoy */
.details-card { flex: 1; min-width: 300px; background: rgba(217, 217, 217, 0.85); border-radius: 20px; padding: 25px; color: #333; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.15); }
.details-card h3 { margin-bottom: 15px; font-size: 22px; }
.details-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; }
.detail-box { background: rgba(255, 255, 255, 0.9); border-radius: 15px; padding: 15px; box-shadow: 0 3px 6px rgba(0,0,0,0.15); display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 150px; }
.detail-box h4 { margin-bottom: 5px; }
.detail-box img { width: 45px; height: auto; margin: 8px 0; filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2)); }

/* --- GRÁFICO DE 24 HORAS --- */
.hourly-forecast { margin-top: 30px; background: rgba(255, 255, 255, 0.15); border-radius: 20px; padding: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
.hourly-forecast h2 { text-align: center; font-size: 22px; font-weight: 700; margin-bottom: 15px; }
#hourlyChart { width: 100%; max-height: 250px; }

/* --- 5. SECCIÓN DE AJUSTES --- */
.settings-container { display: flex; justify-content: center; gap: 15px; margin-bottom: 20px; }
.settings-select { padding: 8px 12px; font-size: 14px; border-radius: 20px; border: none; font-family: 'Istok Web', sans-serif; background: rgba(255, 255, 255, 0.3); color: white; font-weight: 700; cursor: pointer; }
.settings-select:focus { outline: none; }
.settings-select option { color: black; background: white; }

/* --- 6. AUTENTICACIÓN (LOGIN/LOGOUT) --- */
.login-link { white-space: nowrap; padding: 10px 20px; background: rgba(255, 255, 255, 0.2); color: white; text-decoration: none; font-weight: 700; border-radius: 20px; transition: background 0.3s ease; border: none; font-family: 'Istok Web', sans-serif; font-size: 14px; cursor: pointer; }
.login-link:hover { background: rgba(255, 255, 255, 0.4); }

/* --- 7. BOTÓN DE GUARDAR FAVORITO --- */
#save-favorite-button { padding: 12px 20px; font-size: 16px; font-weight: 700; border-radius: 25px; border: none; background: #FFD700; color: #333; cursor: pointer; transition: background 0.3s ease; }
#save-favorite-button:hover { background: #ffec80; }

/* --- 8. MAPA DEL CLIMA --- */
.map-container { background: rgba(255, 255, 255, 0.15); border-radius: 20px; padding: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
.map-container h2 { text-align: center; font-size: 22px; font-weight: 700; margin-bottom: 15px; }
#weather-map { width: 100%; height: 400px; border-radius: 15px; z-index: 1; }

/* --- 9. MENÚ DE FAVORITOS --- */
.favorites-container { position: relative; }
#favorites-button { width: 160px; }
.favorites-list { display: none; position: absolute; top: 100%; right: 0; background: rgba(10, 52, 119, 0.9); border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 10px; width: 200px; max-height: 300px; overflow-y: auto; z-index: 100; backdrop-filter: blur(5px); }
.favorites-container.open .favorites-list { display: block; }
.favorite-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 15px; color: white; cursor: pointer; border-bottom: 1px solid rgba(255, 255, 255, 0.1); font-weight: 700; }
.favorite-item:hover { background: rgba(255, 255, 255, 0.15); }
.favorite-item:last-child { border-bottom: none; }
.delete-fav-btn { background: #ff4d4d; color: white; border: none; border-radius: 50%; width: 20px; height: 20px; font-size: 14px; font-weight: bold; cursor: pointer; padding: 0; line-height: 20px; text-align: center; opacity: 0.7; transition: opacity 0.3s ease; }
.delete-fav-btn:hover { opacity: 1; }

/* --- 10. FONDOS DINÁMICOS (¡Colores mejorados!) --- */

/* Default (tu azul original) */
.bg-default {
  background: linear-gradient(rgba(14, 175, 239, 1), rgba(10, 52, 119, 1));
}

/* Día - Despejado (01d) - ¡Azul Claro! */
.bg-day-clear {
  background: linear-gradient(to top, #87CEEB, #E0F2F7); /* De Azul Cielo a casi blanco */
}

/* Noche - Despejado (01n) */
.bg-night-clear {
  background: linear-gradient(to top, #0d1b2a, #1b263b); /* Noche azul oscura */
}

/* Día - Nubes (02d, 03d, 04d) - ¡Más claro y azulado! */
.bg-day-clouds {
  background: linear-gradient(to top, #B0C4DE, #E6E9F0); /* De Azul Acero a gris claro */
}

/* Noche - Nubes (02n, 03n, 04n) */
.bg-night-clouds {
  background: linear-gradient(to top, #3a506b, #5c6b73); /* Noche nublada más clara */
}

/* Lluvia/Tormenta (09d, 10d, 11d, 09n, 10n, 11n) - ¡Gris claro! */
.bg-rain-storm {
  background: linear-gradient(to top, #6c757d, #adb5bd);
}

/* Nieve (13d, 13n) */
.bg-snow {
  background: linear-gradient(to top, #e6dada, #f7f7f7);
}

/* Niebla (50d, 50n) */
.bg-mist {
  background: linear-gradient(to top, #bdc3c7, #e0e0e0);
}